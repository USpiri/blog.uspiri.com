---
import ChevronRightIcon from "./icons/ChevronRightIcon.astro";
import { type CollectionEntry } from "astro:content";
import PostTag from "./PostTag.astro";
import PostDate from "./PostDate.astro";

interface Props {
  post: CollectionEntry<"post">;
}

const { post } = Astro.props;
---

<article
  class="rounded border border-neutral-300 px-3 py-3 dark:border-neutral-800"
>
  <a href={`/post/${post.slug}`}>
    <header class="group flex flex-col gap-2 sm:gap-1">
      <h3
        class="font-semibold decoration-dashed underline-offset-4 group-hover:underline sm:text-xl"
      >
        {post.data.title}
      </h3>
      <div class="text-sm text-neutral-600 dark:text-neutral-400">
        {post.data.description}
      </div>
    </header>
  </a>
  <footer class="mt-3 flex items-center justify-between gap-2">
    <div class="flex gap-2">
      <PostTag tag={post.data.tags[0]} />
      <PostDate date={post.data.date} />
    </div>
    <a
      href={`/post/${post.slug}`}
      class="group flex items-center gap-0.5 text-xs font-medium text-neutral-600 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300 sm:text-sm"
    >
      Read more
      <ChevronRightIcon
        class="h-4 w-4 transition-transform group-hover:translate-x-0.5"
      />
    </a>
  </footer>
</article>
